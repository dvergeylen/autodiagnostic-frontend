var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function i(e,t,n){e.$$.on_destroy.push(o(t,n))}function a(e,t,n=t){return e.set(n),t}let l,u=!1;function d(e,t,n,r){for(;e<t;){const s=e+(t-e>>1);n(s)<=r?e=s+1:t=s}return e}function f(e,t){u?(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;const t=e.childNodes,n=new Int32Array(t.length+1),r=new Int32Array(t.length);n[0]=-1;let s=0;for(let e=0;e<t.length;e++){const c=d(1,s+1,(e=>t[n[e]].claim_order),t[e].claim_order)-1;r[e]=n[c]+1;const o=c+1;n[o]=e,s=Math.max(o,s)}const c=[],o=[];let i=t.length-1;for(let e=n[s]+1;0!=e;e=r[e-1]){for(c.push(t[e-1]);i>=e;i--)o.push(t[i]);i--}for(;i>=0;i--)o.push(t[i]);c.reverse(),o.sort(((e,t)=>e.claim_order-t.claim_order));for(let t=0,n=0;t<o.length;t++){for(;n<c.length&&o[t].claim_order>=c[n].claim_order;)n++;const r=n<c.length?c[n]:null;e.insertBefore(o[t],r)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild),t!==e.actual_end_child?e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling):t.parentNode!==e&&e.appendChild(t)}function h(e,t,n){u&&!n?f(e,t):(t.parentNode!==e||n&&t.nextSibling!==n)&&e.insertBefore(t,n||null)}function m(e){e.parentNode.removeChild(e)}function g(e){return document.createElement(e)}function p(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function v(e){return document.createTextNode(e)}function $(){return v(" ")}function b(){return v("")}function y(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function x(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function k(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function _(e,t,n){e.classList[n?"add":"remove"](t)}function w(e){l=e}function N(){if(!l)throw new Error("Function called outside component initialization");return l}function O(e){N().$$.on_mount.push(e)}const E=[],S=[],j=[],q=[],P=Promise.resolve();let C=!1;function A(){C||(C=!0,P.then(R))}function T(e){j.push(e)}let I=!1;const M=new Set;function R(){if(!I){I=!0;do{for(let e=0;e<E.length;e+=1){const t=E[e];w(t),z(t.$$)}for(w(null),E.length=0;S.length;)S.pop()();for(let e=0;e<j.length;e+=1){const t=j[e];M.has(t)||(M.add(t),t())}j.length=0}while(E.length);for(;q.length;)q.pop()();C=!1,I=!1,M.clear()}}function z(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(T)}}const D=new Set;let H;function U(e,t){e&&e.i&&(D.delete(e),e.i(t))}function G(e,t,n,r){if(e&&e.o){if(D.has(e))return;D.add(e),H.c.push((()=>{D.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function L(e,t){e.d(1),t.delete(e.key)}function F(e,t,n,r,s,c,o,i,a,l,u,d){let f=e.length,h=c.length,m=f;const g={};for(;m--;)g[e[m].key]=m;const p=[],v=new Map,$=new Map;for(m=h;m--;){const e=d(s,c,m),i=n(e);let a=o.get(i);a?r&&a.p(e,t):(a=l(i,e),a.c()),v.set(i,p[m]=a),i in g&&$.set(i,Math.abs(m-g[i]))}const b=new Set,y=new Set;function x(e){U(e,1),e.m(i,u),o.set(e.key,e),u=e.first,h--}for(;f&&h;){const t=p[h-1],n=e[f-1],r=t.key,s=n.key;t===n?(u=t.first,f--,h--):v.has(s)?!o.has(r)||b.has(r)?x(t):y.has(s)?f--:$.get(r)>$.get(s)?(y.add(r),x(t)):(b.add(s),f--):(a(n,o),f--)}for(;f--;){const t=e[f];v.has(t.key)||a(t,o)}for(;h;)x(p[h-1]);return p}function B(e){e&&e.c()}function J(e,n,c,o){const{fragment:i,on_mount:a,on_destroy:l,after_update:u}=e.$$;i&&i.m(n,c),o||T((()=>{const n=a.map(t).filter(s);l?l.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(T)}function V(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function K(t,s,c,o,i,a,d=[-1]){const f=l;w(t);const h=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:s.context||[]),callbacks:n(),dirty:d,skip_bound:!1};let g=!1;if(h.ctx=c?c(t,s.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return h.ctx&&i(h.ctx[e],h.ctx[e]=s)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](s),g&&function(e,t){-1===e.$$.dirty[0]&&(E.push(e),A(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],h.update(),g=!0,r(h.before_update),h.fragment=!!o&&o(h.ctx),s.target){if(s.hydrate){u=!0;const e=function(e){return Array.from(e.childNodes)}(s.target);h.fragment&&h.fragment.l(e),e.forEach(m)}else h.fragment&&h.fragment.c();s.intro&&U(t.$$.fragment),J(t,s.target,s.anchor,s.customElement),u=!1,R()}w(f)}class Q{$destroy(){V(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const W=[];function X(e,t){return{subscribe:Y(e,t).subscribe}}function Y(t,n=e){let r;const s=[];function o(e){if(c(t,e)&&(t=e,r)){const e=!W.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),W.push(n,t)}if(e){for(let e=0;e<W.length;e+=2)W[e][0](W[e+1]);W.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(c,i=e){const a=[c,i];return s.push(a),1===s.length&&(r=n(o)||e),c(t),()=>{const e=s.indexOf(a);-1!==e&&s.splice(e,1),0===s.length&&(r(),r=null)}}}}const Z=Y({gender:"",language:"fr",attribution:{leader:0,bricoleur:0,coequipier:0,planificateur:0,idealiste:0,creatif:0,audacieux:0,explorateur:0},nodes:{}}),ee=function(t,n,c){const i=!Array.isArray(t),a=i?[t]:t,l=n.length<2;return X(c,(t=>{let c=!1;const u=[];let d=0,f=e;const h=()=>{if(d)return;f();const r=n(i?u[0]:u,t);l?t(r):f=s(r)?r:e},m=a.map(((e,t)=>o(e,(e=>{u[t]=e,d&=~(1<<t),c&&h()}),(()=>{d|=1<<t}))));return c=!0,h(),function(){r(m),f()}}))}(Z,(e=>Object.keys(e.nodes).reduce(((e,t)=>t>e?t:e),"1")));var te;!function(e){e[e.UNSTARTED=0]="UNSTARTED",e[e.ONGOING=1]="ONGOING",e[e.PAUSED=2]="PAUSED",e[e.FINISHED=3]="FINISHED",e[e.ERROR=4]="ERROR"}(te||(te={}));const ne=Y(te.UNSTARTED);function re(e){let t,n,r;return{c(){t=g("button"),t.textContent="Continuer",x(t,"class","svelte-1wkgo86"),_(t,"pressed",!e[0])},m(s,c){h(s,t,c),n||(r=y(t,"click",e[4]),n=!0)},p(e,n){1&n&&_(t,"pressed",!e[0])},d(e){e&&m(t),n=!1,r()}}}function se(t){let n,s,c,o,i,a,l,u,d,p,b,k,w,N,O,E,S=t[1]&&t[2]&&re(t);return{c(){n=g("main"),s=g("h1"),s.textContent="Voyage au bout du monde",c=$(),o=g("h3"),o.textContent="Une aventure d'introspection",i=$(),a=g("div"),S&&S.c(),l=$(),u=g("button"),u.textContent="Nouvelle Partie",d=$(),p=g("div"),b=v("Protagoniste:\n    "),k=g("button"),k.innerHTML='<svg class="icon svelte-1wkgo86"><use href="assets/sprite_icons.svg#mars"></use></svg>\n      Masculin',w=$(),N=g("button"),N.innerHTML='<svg class="icon svelte-1wkgo86"><use href="assets/sprite_icons.svg#venus"></use></svg>\n      Féminin',x(s,"class","svelte-1wkgo86"),x(u,"class","svelte-1wkgo86"),_(u,"pressed",t[0]),x(a,"class","is-grid svelte-1wkgo86"),x(k,"class","svelte-1wkgo86"),x(N,"class","svelte-1wkgo86"),x(p,"class","is-grid protagoniste svelte-1wkgo86"),_(p,"is-hidden",!t[0]),x(n,"class","svelte-1wkgo86")},m(e,r){h(e,n,r),f(n,s),f(n,c),f(n,o),f(n,i),f(n,a),S&&S.m(a,null),f(a,l),f(a,u),f(n,d),f(n,p),f(p,b),f(p,k),f(p,w),f(p,N),O||(E=[y(u,"click",t[3]),y(k,"click",t[8]),y(N,"click",t[9])],O=!0)},p(e,[t]){e[1]&&e[2]?S?S.p(e,t):(S=re(e),S.c(),S.m(a,l)):S&&(S.d(1),S=null),1&t&&_(u,"pressed",e[0]),1&t&&_(p,"is-hidden",!e[0])},i:e,o:e,d(e){e&&m(n),S&&S.d(),O=!1,r(E)}}}function ce(e,t,n){let r,s;var c;i(e,ne,(e=>n(10,r=e))),i(e,Z,(e=>n(7,s=e)));let o,l=!1,u=!1;function d(){a(ne,r=te.ONGOING,r)}function f(e){a(Z,s.gender=e,s),a(Z,s.nodes={},s),d()}return e.$$.update=()=>{128&e.$$.dirty&&n(1,u=0===Object.entries(s.nodes).length),192&e.$$.dirty&&n(2,o=((null===n(6,c=null==s?void 0:s.gender)||void 0===c?void 0:c.length)||0)>0)},[l,u,o,function(){n(0,l=!l)},d,f,c,s,()=>f("m"),()=>f("f")]}class oe extends Q{constructor(e){super(),K(this,e,ce,se,c,{})}}function ie(t){let n,r,s,c,o,i,a,l,u,d,v,b,k,_,w,N,O,E,S,j,q,P,C;return{c(){n=g("div"),r=p("svg"),s=p("use"),c=$(),o=p("svg"),i=p("use"),a=$(),l=p("svg"),u=p("use"),d=$(),v=p("svg"),b=p("use"),k=$(),_=p("svg"),w=p("use"),N=$(),O=p("svg"),E=p("use"),S=$(),j=p("svg"),q=p("use"),x(s,"href","assets/sprite_icons.svg#home"),x(r,"class","icon navbar-icon svelte-1mz4axq"),x(i,"href","assets/sprite_icons.svg#square"),x(o,"class","icon navbar-icon svelte-1mz4axq"),x(u,"href","assets/sprite_icons.svg#square"),x(l,"class","icon navbar-icon svelte-1mz4axq"),x(b,"href","assets/sprite_icons.svg#square"),x(v,"class","icon navbar-icon svelte-1mz4axq"),x(w,"href","assets/sprite_icons.svg#square"),x(_,"class","icon navbar-icon svelte-1mz4axq"),x(E,"href","assets/sprite_icons.svg#square"),x(O,"class","icon navbar-icon svelte-1mz4axq"),x(q,"href","assets/sprite_icons.svg#square"),x(j,"class","icon navbar-icon svelte-1mz4axq"),x(n,"id","navbar"),x(n,"class","is-flex is-justify-content-center svelte-1mz4axq")},m(e,m){h(e,n,m),f(n,r),f(r,s),f(n,c),f(n,o),f(o,i),f(n,a),f(n,l),f(l,u),f(n,d),f(n,v),f(v,b),f(n,k),f(n,_),f(_,w),f(n,N),f(n,O),f(O,E),f(n,S),f(n,j),f(j,q),P||(C=y(r,"click",t[0]),P=!0)},p:e,i:e,o:e,d(e){e&&m(n),P=!1,C()}}}function ae(e){return[function(){ne.set(te.PAUSED)}]}class le extends Q{constructor(e){super(),K(this,e,ae,ie,c,{})}}function ue(t){let n;return{c(){n=g("div"),n.innerHTML="<p>JON / Ayria :</p>",x(n,"class","is-flex header svelte-cjqldj")},m(e,t){h(e,n,t)},p:e,i:e,o:e,d(e){e&&m(n)}}}class de extends Q{constructor(e){super(),K(this,e,null,ue,c,{})}}const fe=X({},(function(e){const t=Array.from(Array(6).keys()).map((async e=>{const t=await fetch(`chapters/chapitre${String(e+1).padStart(2,"0")}.json`);if(t.ok){const e=await t.text();return JSON.parse(e)}throw new Error(`Impossible de lire le scénario n°${String(e+1).padStart(2,"0")}`)}));return Promise.all(t).then((t=>{const n=t.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.metadata.chapter]:t.dialogNodes})),{});e(n)})).catch((t=>{e({error:t.message})})),function(){}}));function he(e,t,n){const r=e.slice();return r[20]=t[n],r}function me(e,t,n){const r=e.slice();return r[23]=t[n],r}function ge(t){let n;return{c(){n=g("p"),n.textContent="Chargement...",x(n,"class","svelte-1d9khmm")},m(e,t){h(e,n,t)},p:e,d(e){e&&m(n)}}}function pe(e){let t,n,r,s,c,o,i,a,l,u=[],d=new Map,p=[],v=new Map,y=e[3];const k=e=>e[23];for(let t=0;t<y.length;t+=1){let n=me(e,y,t),r=k(n);d.set(r,u[t]=be(r,n))}let w=e[7];const N=e=>e[20];for(let t=0;t<w.length;t+=1){let n=he(e,w,t),r=N(n);v.set(r,p[t]=ke(r,n))}let O=e[4]&&_e(e),E=e[5]&&we(e);return{c(){t=g("div");for(let e=0;e<u.length;e+=1)u[e].c();n=$(),r=g("div"),r.innerHTML='<p class="svelte-1d9khmm">...</p>',s=$(),c=g("div"),o=g("div");for(let e=0;e<p.length;e+=1)p[e].c();i=$(),O&&O.c(),a=$(),E&&E.c(),l=b(),x(r,"id","typing-container"),x(r,"class","svelte-1d9khmm"),_(r,"is-hidden",!e[8]),_(r,"npc1",e[9]),_(r,"player",e[10]),x(t,"id","dialog-container"),x(t,"class","svelte-1d9khmm"),x(o,"class","player svelte-1d9khmm"),x(c,"id","answer-container"),x(c,"class","svelte-1d9khmm")},m(e,d){h(e,t,d);for(let e=0;e<u.length;e+=1)u[e].m(t,null);f(t,n),f(t,r),h(e,s,d),h(e,c,d),f(c,o);for(let e=0;e<p.length;e+=1)p[e].m(o,null);h(e,i,d),O&&O.m(e,d),h(e,a,d),E&&E.m(e,d),h(e,l,d)},p(e,s){15&s&&(y=e[3],u=F(u,s,k,1,e,y,d,t,L,be,n,me)),256&s&&_(r,"is-hidden",!e[8]),512&s&&_(r,"npc1",e[9]),1024&s&&_(r,"player",e[10]),8327&s&&(w=e[7],p=F(p,s,N,1,e,w,v,o,L,ke,null,he)),e[4]?O?O.p(e,s):(O=_e(e),O.c(),O.m(a.parentNode,a)):O&&(O.d(1),O=null),e[5]?E?E.p(e,s):(E=we(e),E.c(),E.m(l.parentNode,l)):E&&(E.d(1),E=null)},d(e){e&&m(t);for(let e=0;e<u.length;e+=1)u[e].d();e&&m(s),e&&m(c);for(let e=0;e<p.length;e+=1)p[e].d();e&&m(i),O&&O.d(e),e&&m(a),E&&E.d(e),e&&m(l)}}}function ve(e){let t,n=e[0][e[2]][e[23]].text[e[1].language]+"";return{c(){t=v(n)},m(e,n){h(e,t,n)},p(e,r){15&r&&n!==(n=e[0][e[2]][e[23]].text[e[1].language]+"")&&k(t,n)},d(e){e&&m(t)}}}function $e(e){let t,n=e[0][e[2]][e[23]].text[e[1].language][e[1].gender]+"";return{c(){t=v(n)},m(e,n){h(e,t,n)},p(e,r){15&r&&n!==(n=e[0][e[2]][e[23]].text[e[1].language][e[1].gender]+"")&&k(t,n)},d(e){e&&m(t)}}}function be(e,t){let n,r;function s(e,t){return e[0][e[2]][e[23]].text[e[1].language]instanceof Object?$e:ve}let c=s(t),o=c(t);return{key:e,first:null,c(){n=g("div"),r=g("p"),o.c(),x(r,"class","svelte-1d9khmm"),x(n,"class","svelte-1d9khmm"),_(n,"npc1","NPC1"===t[0][t[2]][t[23]].character),_(n,"player","Player"===t[0][t[2]][t[23]].character),_(n,"narrator","Narrator"===t[0][t[2]][t[23]].character),this.first=n},m(e,t){h(e,n,t),f(n,r),o.m(r,null)},p(e,i){c===(c=s(t=e))&&o?o.p(t,i):(o.d(1),o=c(t),o&&(o.c(),o.m(r,null))),13&i&&_(n,"npc1","NPC1"===t[0][t[2]][t[23]].character),13&i&&_(n,"player","Player"===t[0][t[2]][t[23]].character),13&i&&_(n,"narrator","Narrator"===t[0][t[2]][t[23]].character)},d(e){e&&m(n),o.d()}}}function ye(e){let t,n=e[0][e[2]][e[20]].text[e[1].language]+"";return{c(){t=v(n)},m(e,n){h(e,t,n)},p(e,r){135&r&&n!==(n=e[0][e[2]][e[20]].text[e[1].language]+"")&&k(t,n)},d(e){e&&m(t)}}}function xe(e){let t,n=e[0][e[2]][e[20]].text[e[1].language][e[1].gender]+"";return{c(){t=v(n)},m(e,n){h(e,t,n)},p(e,r){135&r&&n!==(n=e[0][e[2]][e[20]].text[e[1].language][e[1].gender]+"")&&k(t,n)},d(e){e&&m(t)}}}function ke(e,t){let n,r,s,c;function o(e,t){return e[0][e[2]][e[20]].text[e[1].language]instanceof Object?xe:ye}let i=o(t),a=i(t);function l(){return t[14](t[20])}return{key:e,first:null,c(){n=g("p"),a.c(),r=$(),x(n,"class","choice svelte-1d9khmm"),this.first=n},m(e,t){h(e,n,t),a.m(n,null),f(n,r),s||(c=y(n,"click",l),s=!0)},p(e,s){i===(i=o(t=e))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(n,r)))},d(e){e&&m(n),a.d(),s=!1,c()}}}function _e(e){let t,n,r,s,c,o,i;return{c(){t=g("div"),n=g("p"),r=v("Continuer (Chapitre "),s=v(e[6]),c=v(") →"),x(n,"class","svelte-1d9khmm"),x(t,"id","next-chapter-container"),x(t,"class","svelte-1d9khmm")},m(a,l){h(a,t,l),f(t,n),f(n,r),f(n,s),f(n,c),o||(i=y(t,"click",e[12]),o=!0)},p(e,t){64&t&&k(s,e[6])},d(e){e&&m(t),o=!1,i()}}}function we(t){let n,r,s;return{c(){n=g("div"),n.innerHTML='<p class="svelte-1d9khmm">Fin de l&#39;Aventure (Résultats) →</p>',x(n,"id","next-chapter-container"),x(n,"class","svelte-1d9khmm")},m(e,c){h(e,n,c),r||(s=y(n,"click",t[11]),r=!0)},p:e,d(e){e&&m(n),r=!1,s()}}}function Ne(t){let n;function r(e,t){return e[0][e[2]]?pe:ge}let s=r(t),c=s(t);return{c(){n=g("div"),c.c(),x(n,"id","dialog-container-background"),x(n,"class","svelte-1d9khmm")},m(e,t){h(e,n,t),c.m(n,null)},p(e,[t]){s===(s=r(e))&&c?c.p(e,t):(c.d(1),c=s(e),c&&(c.c(),c.m(n,null)))},i:e,o:e,d(e){e&&m(n),c.d()}}}function Oe(e,t,n){let r,s,c;i(e,fe,(e=>n(0,r=e))),i(e,Z,(e=>n(1,s=e))),i(e,ee,(e=>n(2,c=e)));var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,c){function o(e){try{a(r.next(e))}catch(e){c(e)}}function i(e){try{a(r.throw(e))}catch(e){c(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}a((r=r.apply(e,t||[])).next())}))};let l,u,d=!1,f=!1,h=[],m=!1,g=!1,p=!1;function v(e,t=!1){var o;const i=t?["1"]:r[c][e].nextNodes,l=Object.entries(r[c]).filter((([e,t])=>i.includes(t.id))).map((([e,t])=>t)),$=r[c][e||"1"].character,b=l.reduce(((e,t)=>"Player"===e||"Player"===t.character?"Player":e),(null===(o=l[0])||void 0===o?void 0:o.character)||"NPC1");if(n(9,g="NPC1"===b),n(10,p="Player"===b),0===l.length){const e=Object.keys(r).reduce(((e,t)=>Number(t)>e?Number(t):e),1);n(6,u=Number(c)+1),e>=u?n(4,d=!0):n(5,f=!0)}else if("Player"===b&&(l.length>1||$!==b)){setTimeout((()=>{!function(e){n(7,h=e)}(i)}),1e3)}else if("Narrator"===b)a(Z,s.nodes[c]=[...s.nodes[c]||[],i[0]],s),v(i[0]);else{const e=Math.floor(251*Math.random()+500);setTimeout((()=>{n(8,m=!0);const e=Math.floor(2001*Math.random()+1e3);setTimeout((()=>{n(8,m=!1),a(Z,s.nodes[c]=[...s.nodes[c]||[],i[0]],s),v(i[0])}),e)}),e)}}function $(e){n(7,h=[]),a(Z,s.nodes[c]=[...s.nodes[c]||[],e],s),"Player"===r[c][e].character&&a(Z,s.attribution=Object.keys(s.attribution).reduce(((t,[n,s])=>Object.assign(Object.assign({},t),{[n]:s+r[c][e].attribution[n]})),{leader:0,bricoleur:0,coequipier:0,planificateur:0,idealiste:0,creatif:0,audacieux:0,explorateur:0}),s),v(e)}function b(){if(Object.keys(r).length>0){const e=l[l.length-1];v(e,void 0===e)}else setTimeout(b,10)}var y;O((()=>o(void 0,void 0,void 0,(function*(){b()})))),y=()=>{window.scrollTo(0,document.body.scrollHeight)},N().$$.after_update.push(y);return e.$$.update=()=>{1&e.$$.dirty&&Object.keys(r).includes("error")&&ne.set(te.ERROR),6&e.$$.dirty&&n(3,l=s.nodes[c]||[])},[r,s,c,l,d,f,u,h,m,g,p,function(){ne.set(te.FINISHED)},function(){return o(this,void 0,void 0,(function*(){a(Z,s.nodes[String(u)]=[],s),n(4,d=!1),yield(A(),P),v(void 0,!0)}))},$,e=>$(e)]}class Ee extends Q{constructor(e){super(),K(this,e,Oe,Ne,c,{})}}function Se(t){let n,r,s,c,o,i,a;return r=new le({}),c=new de({}),i=new Ee({}),{c(){n=g("main"),B(r.$$.fragment),s=$(),B(c.$$.fragment),o=$(),B(i.$$.fragment),x(n,"class","svelte-12r0jps")},m(e,t){h(e,n,t),J(r,n,null),f(n,s),J(c,n,null),f(n,o),J(i,n,null),a=!0},p:e,i(e){a||(U(r.$$.fragment,e),U(c.$$.fragment,e),U(i.$$.fragment,e),a=!0)},o(e){G(r.$$.fragment,e),G(c.$$.fragment,e),G(i.$$.fragment,e),a=!1},d(e){e&&m(n),V(r),V(c),V(i)}}}class je extends Q{constructor(e){super(),K(this,e,null,Se,c,{})}}function qe(t){let n;return{c(){n=g("p"),n.textContent="Result Screen!"},m(e,t){h(e,n,t)},p:e,i:e,o:e,d(e){e&&m(n)}}}class Pe extends Q{constructor(e){super(),K(this,e,null,qe,c,{})}}function Ce(t){let n,r,s,c,o,i,a,l,u,d;return{c(){n=g("main"),r=g("h1"),r.textContent="Voyage au bout du monde",s=$(),c=g("h3"),c.textContent="Une aventure d'introspection",o=$(),i=g("div"),a=g("p"),l=v("Une erreur est survenue lors du chargement des chapitres du jeu: "),u=g("br"),d=v(t[0]),x(r,"class","svelte-hxqzcc"),x(a,"class","error svelte-hxqzcc"),x(i,"class","error-container svelte-hxqzcc"),x(n,"class","svelte-hxqzcc")},m(e,t){h(e,n,t),f(n,r),f(n,s),f(n,c),f(n,o),f(n,i),f(i,a),f(a,l),f(a,u),f(a,d)},p:e,i:e,o:e,d(e){e&&m(n)}}}function Ae(e,t,n){let r;i(e,fe,(e=>n(1,r=e)));return[r.error]}class Te extends Q{constructor(e){super(),K(this,e,Ae,Ce,c,{})}}function Ie(e){let t,n;return t=new oe({}),{c(){B(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(U(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Me(e){let t,n;return t=new Te({}),{c(){B(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(U(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Re(e){let t,n;return t=new Pe({}),{c(){B(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(U(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function ze(e){let t,n;return t=new je({}),{c(){B(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(U(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function De(e){let t,n,s,c;const o=[ze,Re,Me,Ie],i=[];function a(e,t){return e[0]?0:e[1]?1:e[2]?2:3}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),s=b()},m(e,n){i[t].m(e,n),h(e,s,n),c=!0},p(e,[c]){let l=t;t=a(e),t!==l&&(H={r:0,c:[],p:H},G(i[l],1,1,(()=>{i[l]=null})),H.r||r(H.c),H=H.p,n=i[t],n||(n=i[t]=o[t](e),n.c()),U(n,1),n.m(s.parentNode,s))},i(e){c||(U(n),c=!0)},o(e){G(n),c=!1},d(e){i[t].d(e),e&&m(s)}}}function He(e,t,n){let r;i(e,ne,(e=>n(3,r=e)));let s=!1,c=!1,o=!1;return O((()=>{const e=window.localStorage;e&&e.getItem("state")&&Z.set(JSON.parse(e.getItem("state")))})),e.$$.update=()=>{8&e.$$.dirty&&n(0,s=r===te.ONGOING),8&e.$$.dirty&&n(1,c=r===te.FINISHED),8&e.$$.dirty&&n(2,o=r===te.ERROR)},[s,c,o,r]}return new class extends Q{constructor(e){super(),K(this,e,He,De,c,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
